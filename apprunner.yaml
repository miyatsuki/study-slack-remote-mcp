version: 1.0
runtime: python3
build:
  commands:
    build:
      - pip install --upgrade pip
      - pip install -r requirements.txt
run:
  runtime-version: 3.8
  command: python server.py
  network:
    port: 8080
    env: PORT
  env:
    - name: AWS_REGION
      value: ap-northeast-1
    - name: DYNAMODB_TABLE_NAME
      value: slack-mcp-tokens-dev
    - name: MCP_ENV
      value: dev
  secrets:
    - name: SERVICE_BASE_URL
      value-from: /slack-mcp/dev/service-base-url
    - name: SLACK_CLIENT_ID
      value-from: /slack-mcp/dev/client-id
    - name: SLACK_CLIENT_SECRET
      value-from: /slack-mcp/dev/client-secret